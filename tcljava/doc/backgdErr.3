'\"
'\" Copyright (c) 1994-1998 Sun Microsystems, Inc.
'\"
'\" See the file "license.terms" for information on usage and redistribution
'\" of this file, and for a DISCLAIMER OF ALL WARRANTIES.
'\" 
'\" RCS: @(#) $Id: backgdErr.3,v 1.1 1998/10/14 21:09:09 cvsadmin Exp $
'\" 
.so man.macros
.TH backgdErr 3 1.0 Jacl "Jacl Library Procedures"
.BS
.SH CLASS
tcl.lang.Interp -- This manual entry contains Interp methods that
report Tcl background errors.

.SH METHODS
.sp
void \fBbackgroundError\fR()
.sp
void \fBaddErrorInfo\fR(String \fImessage\fR)
.sp
void \fBsetErrorCode\fR(TclObject \fIcode\fR)

.SH OTHER METHODS
\fBsetVar\fR, 
\fBtraceVar\fR, 
\fBcreateCommand\fR,
\fBeval\fR, 
\fBsetResult\fR, 
.br
\fBgetNotifier\fR, 
\fBsetAssocData\fR, 
\fBdispose\fR, 
\fBpkgRequire\fR

.SH ARGUMENTS
.AS TclObject message .
.AP String message
Message to appear in global errorInfo Tcl variable.
.AP TclObject code
TclObject to become value of global errorCode Tcl variable.
.BE

.SH DESCRIPTION
The procedures described here are utilities for reporting Tcl errors
that occurred in background processing.  See the manual entry
\fBsetResult\fR for information on storing result values.
.TP
\fBbackgroundError\fR
The \fBbackgroundError\fR method is typically invoked when a Tcl error
occurs during "background processing" such as executing an event
handler.  When backgroundError() is called, it saves the current
result, errorCode and errorInfo and will invoke the "bgerror" command
at a later time as an idle callback.  If no bgerror command exists, or
if the bgerror command returns with an error condition, then
backgroundError() reports the error itself by printing a message on
the standard error output.  It is possible for many background errors
to accumulate before bgerror is invoked.  When this happens, each of
the errors is processed in order.  However, if bgerror returns a break
exception, then all remaining error reports for the interpreter are
skipped.
.TP
\fBaddErrorInfo\fR
The \fBaddErrorInfo\fR method appends \fImessage\fR to the
errorInfo object in the interpreter.  The errorInfo object is mirrored
in Tcl scripts via the "errorInfo" global variable.
.TP
\fBsetErrorCode\fR
The \fBsetErrorCode\fR method sets the interpreter's errorCode object
to the value of \fIcode\fR.  The errorCode object is mirrored in Tcl
scripts via the "errorCode" global variable.

.SH EQUIVALENT C FUNCTIONS
Tcl_BackgroundError, Tcl_AddErrorInfo, Tcl_SetObjErrorCode

.SH "SEE ALSO"
Interp, TclException, TclRuntimeError, TclEvent, dispose,
setAssocData

.SH KEYWORDS
background, bgerror, error, interpreter
